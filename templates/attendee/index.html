{% extends '../base.html' %}
{% load static %}

{% block content %}
<script>

	$(document).ready(function() {
	  	$('#landing_page').css( "display", "none" ),
		$('#frontpage_attendee').css( "display", "block" );
		$('.footer').css( "display", "block" );
	});

	function onJoin(){
		var lectureName = "";
		var pinAPI = '/lectures/' + $('#pinInput').val();
	  	$.getJSON( pinAPI, function(json) {
	  		if (json.success == false) {
	  			$('#landing_page').css( "display", "none" ),
				$('#frontpage_attendee').css( "display", "block" );
				$('.footer').css( "display", "block" );
	  		} else if (json.success == true) {
	  			$('#landing_page').css( "display", "block" ),
				$('#frontpage_attendee').css( "display", "none" ),
				$('.footer').css( "display", "none" );
				lectureName = json.lecture.lecture_title;
				$('.lecture_title').text(lectureName.toUpperCase());
	  		}
	  	})
	}

	function sendQ(){
		var question = '/lectures/' + $('#pinInput').val() + '/questions/';
		$.getJSON( question, function(json) {
			console.log(json);
		})
	}
	  	
</script>

<!-- FRONT PAGE ATTENDEE -->

<div id="frontpage_attendee">
	<div class="frontpage_container">
        {% block image %}
        <div class="frontpage_background_container">
            <img class="frontpage_background" src="{% static 'images/frontpage.jpg' %}">
        </div>
        {% endblock %}
        <div class="row">
            <div class="col-md-12 frontpage_divider" ></div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 frontpage_divider">
                <div class="col-xs-1 col-sm-3 col-md-4"></div>
                <div class="col-xs-10 col-sm-6 col-md-4" id="hashForm">
                    <div class="form-group">
                    {% block form-login %}
                    <form>
                        <h3>SESSION PIN</h3>
                        <input type="text" class="form-control" placeholder="Enter your lecture's PIN here" id="pinInput">
                        <div id="join"></div>
                        <button type="button" class="btn btn-success" id="joinButton" onclick="onJoin()">Join</button>
                    </form>
                    {% endblock %}
                    </div>
                </div>
                <div class="col-xs-1 col-sm-3 col-md-4"></div>
            </div>
        </div>
    </div>
</div>

<!-- ATTENDEE USER INTERFACE -->
<div id="landing_page">
	<header class="header col-xs-12 col-sm-12 col-md-12">
        <div class="col-xs-2 col-sm-1 col-md-2">
            <a href="/">
	            <img class="logo" src="{% static 'images/realbackLogoHuge.png' %}">
	        </a>
        </div>
        <div class="footerMenu">
        <div class="col-xs-1 col-sm-2 col-md-4"></div>
        <div class="col-xs-1 col-sm-3 col-md-3"></div>
        <div class="col-xs-1 col-sm-2 col-md-2">
             <p class="item lecture_title"></p>
        </div>
	</header>

	<div class="content container">
		<div class="big-box">
			
		</div>
		<div class="row ">
			<div class="col-xs-12 col-sm-6 col-md-6">
				<div class="box col-xs-12 col-sm-12 col-md-12">

				</div>
			</div>

			<div class="col-xs-12 col-sm-6 col-md-6">
				<div class="box col-xs-12 col-sm-12 col-md-12">
					<h3 class="col-xs-6 col-sm-6 col-md-6">ASK A QUESTION 
						<h3 class="col-xs-6 col-sm-6 col-md-6 glyphicon glyphicon-question-sign"></h3>
						<form>
							<textarea class="textfield" type="text" name="textfield"></textarea>
							<button type="button" class="btn btn-success ask-q-btn" onclick="sendQ()">Send</button>
						</form>
					</h3>
				</div>
			</div>
		</div>

		<div class="row ">
			<div class="col-xs-12 col-sm-6 col-md-6">
				<div class="box col-xs-12 col-sm-12 col-md-12">
					<h3 class="col-xs-6 col-sm-6 col-md-6">SOUNDLEVEL 
						<h3 class="col-xs-6 col-sm-6 col-md-6 glyphicon glyphicon-volume-up"></h3>
						<form>
							<div class="vol-container">
								<div class="vol_name">
									<button type="button" class="glyphicon vol-btn" onclick="sendQ()">
										<h1 class="glyphicon glyphicon-menu-up"></h1>
									</button>
									<h3>HIGHER</h3>
								</div>
								<div class="vol_name">
									<button type="button" class="glyphicon vol-btn" onclick="sendQ()">
										<h1 class="glyphicon glyphicon-menu-down"></h1>
									</button>
									<h3>LOWER</h3>
								</div>
							</div>
						</form>
					</h3>
				</div>
			</div>

			<div class="col-xs-12 col-sm-6 col-md-6">
				<div class="box col-xs-12 col-sm-12 col-md-12">
					<h3 class="col-xs-6 col-sm-6 col-md-6">SPEED OF LECTURE 
						<h3 class="col-xs-6 col-sm-6 col-md-6 glyphicon glyphicon-forward"></h3>
						<form>
							
						</form>
					</h3>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
